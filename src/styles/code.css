
/* Base styles */
.code-box {
  position: relative;
  transition: all 0.2s ease;
  overflow: hidden;
  box-shadow: 0 1px 2px rgba(0, 0, 0, 0.05);
}

.code-box:hover {
  box-shadow: 0 2px 8px rgba(0, 0, 0, 0.1);
}

.code-box textarea {
  font-family: 'JetBrains Mono', monospace;
  line-height: 1.5;
  tab-size: 2;
  white-space: pre;
  overflow-wrap: normal;
  overflow-x: auto;
  transition: height 0.1s ease;
}

.code-box pre {
  font-family: 'JetBrains Mono', monospace;
  line-height: 1.5;
  tab-size: 2;
  white-space: pre;
  overflow-wrap: normal;
  overflow-x: auto;
}

.code-box pre code {
  font-family: inherit;
  display: block;
  padding: 0.1em 0;
}

/* Header styles */
.code-box-header {
  display: flex;
  align-items: center;
  justify-content: space-between;
  padding: 0.5rem 0.75rem;
  border-bottom: 1px solid var(--border);
}

/* Light theme */
.light-code {
  --code-bg: #ffffff;
  --code-fg: #383a42;
  --code-comment: #a0a1a7;
  --code-string: #50a14f;
  --code-number: #c18401;
  --code-keyword: #a626a4;
  --code-function: #4078f2;
  --code-operator: #383a42;
  --code-class: #c18401;
  --code-property: #383a42;
}

.light-code .token.comment { color: var(--code-comment) !important; }
.light-code .token.string { color: var(--code-string) !important; }
.light-code .token.number { color: var(--code-number) !important; }
.light-code .token.keyword { color: var(--code-keyword) !important; }
.light-code .token.function { color: var(--code-function) !important; }
.light-code .token.operator { color: var(--code-operator) !important; }
.light-code .token.class-name { color: var(--code-class) !important; }
.light-code .token.property { color: var(--code-property) !important; }

/* Dark theme */
.dark-code {
  --code-bg: #1E1E1E;
  --code-fg: #d4d4d4;
  --code-comment: #6A9955;
  --code-string: #CE9178;
  --code-number: #B5CEA8;
  --code-keyword: #569CD6;
  --code-function: #DCDCAA;
  --code-operator: #D4D4D4;
  --code-class: #4EC9B0;
  --code-property: #9CDCFE;
}

.dark-code .token.comment { color: var(--code-comment) !important; }
.dark-code .token.string { color: var(--code-string) !important; }
.dark-code .token.number { color: var(--code-number) !important; }
.dark-code .token.keyword { color: var(--code-keyword) !important; }
.dark-code .token.function { color: var(--code-function) !important; }
.dark-code .token.operator { color: var(--code-operator) !important; }
.dark-code .token.class-name { color: var(--code-class) !important; }
.dark-code .token.property { color: var(--code-property) !important; }
.dark-code .token.punctuation { color: #d4d4d4 !important; }
.dark-code .token.tag { color: #569CD6 !important; }
.dark-code .token.attr-name { color: #9CDCFE !important; }
.dark-code .token.attr-value { color: #CE9178 !important; }

/* Transitions */
.code-box,
.code-box pre,
.code-box code,
.code-box textarea {
  transition: background-color 0.2s ease, color 0.2s ease;
}

/* Line numbers styling when added */
.line-numbers .line-numbers-rows {
  border-right: 1px solid var(--border) !important;
  padding-right: 0.5rem;
}

/* Scrollbar styles for code blocks */
.code-box pre::-webkit-scrollbar,
.code-box textarea::-webkit-scrollbar {
  width: 6px;
  height: 6px;
}

.code-box pre::-webkit-scrollbar-track,
.code-box textarea::-webkit-scrollbar-track {
  background: transparent;
}

.code-box pre::-webkit-scrollbar-thumb,
.code-box textarea::-webkit-scrollbar-thumb {
  background: rgba(0, 0, 0, 0.1);
  border-radius: 3px;
}

.dark-code pre::-webkit-scrollbar-thumb,
.dark-code textarea::-webkit-scrollbar-thumb {
  background: rgba(255, 255, 255, 0.1);
}

/* Mobile optimization */
@media (max-width: 640px) {
  .code-box textarea,
  .code-box pre {
    font-size: 12px;
    padding: 8px;
  }
  
  .code-box-header {
    padding: 4px 8px;
  }
}
